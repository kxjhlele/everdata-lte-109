package com.eversec.lte.processor.backfill.back;
//package com.eversec.lte.processor.backfill;
//
//import java.util.ArrayList;
//import java.util.HashMap;
//import java.util.List;
//import java.util.Map;
//import java.util.Timer;
//import java.util.TimerTask;
//import java.util.concurrent.atomic.AtomicLong;
//import java.util.concurrent.locks.Lock;
//import java.util.concurrent.locks.ReentrantLock;
//
//import org.apache.mina.util.CopyOnWriteMap;
//
//import com.eversec.lte.model.single.XdrSingleSource;
//
///**
// * 回填原始xdr city code
// * 
// * @author lirongzhi
// * 
// */
//public class OriginalXdrRefillCityCode {
//
////	private static CopyOnWriteMap<String, String> ipCityCodeMap = new CopyOnWriteMap();
//	private static HashMap<String, String> ipCityCodeMap = new HashMap();
//	static{
//		ipCityCodeMap.put("127.0.0.1","0412");
//	}
//
//	public static void reload()  {
//		
//		while(true){
////			try {
////				ipCityCodeMap.put("127.0.0.1","0412");
////				Thread.sleep(5000);
////			} catch ( Exception e) {
////				e.printStackTrace();
////			}
//		}
//	}
//
//	/**
//	 * 通过ip回填cityCode
//	 * 
//	 * @param xdrs
//	 */
//	public static void doFill(List<XdrSingleSource> xdrs) {
//		try {
//			Map<String, String> currentMap = null;
//			for (int i = 0; i < 1000; i++) {
//				ipCityCodeMap.get("127.0.0.1");
//			}
//			for (XdrSingleSource xdr : xdrs) {
//			}
//		} catch (Exception e) {
//			e.printStackTrace();
//		}
//	}
//
//	public static void main(String[] args) throws Exception {
//		new Thread() {
//			public void run() {
//				while (true) {
//					OriginalXdrRefillCityCode.reload();
//				}
//			};
//		}.start();
//		final AtomicLong l = new AtomicLong(0);
//		new Timer().schedule(new TimerTask() {
//
//			@Override
//			public void run() {
//				while (true) {
//					OriginalXdrRefillCityCode
//							.doFill(new ArrayList<XdrSingleSource>());
//					l.incrementAndGet();
//				}
//			}
//		}, 0, 60 * 1000);
//		Thread.sleep(65000);
//		System.out.println(l.get() ); 
//		//12854939
//		//12309326
//
//	}
//
//}
